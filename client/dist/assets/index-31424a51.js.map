{"version":3,"file":"index-31424a51.js","sources":["../../src/services/liveKitService.js","../../src/components/LiveKit/VideoChat.jsx","../../src/components/LiveKit/ScreenShare.jsx","../../src/components/Editor/EditorConfig.js","../../src/components/Editor/MonacoEditor.jsx","../../src/services/terminalService.js","../../src/components/Terminal/XtermTerminal.jsx","../../src/services/fileService.js","../../src/components/FileExplorer/FileTree.jsx","../../src/services/webSocketService.js","../../src/App.jsx","../../src/lib/queryClient.ts","../../src/main.tsx"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE_URL = '/api/livekit';\r\n\r\n/**\r\n * Fetches a LiveKit token for room access\r\n * @param {string} roomName - The name of the room to join\r\n * @param {string} participantName - The display name of the participant\r\n * @returns {Promise<string>} A LiveKit JWT token\r\n */\r\nexport const fetchRoomToken = async (roomName, participantName) => {\r\n  try {\r\n    const response = await axios.post(`${API_BASE_URL}/token`, {\r\n      roomName,\r\n      participantName\r\n    });\r\n    return response.data.token;\r\n  } catch (error) {\r\n    console.error('Error fetching LiveKit token:', error);\r\n    throw new Error('Failed to fetch room token');\r\n  }\r\n};\r\n\r\n/**\r\n * Creates a new LiveKit room\r\n * @param {string} roomName - The name of the room to create\r\n * @returns {Promise<Object>} Room details\r\n */\r\nexport const createRoom = async (roomName) => {\r\n  try {\r\n    const response = await axios.post(`${API_BASE_URL}/rooms`, { roomName });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error creating room:', error);\r\n    throw new Error('Failed to create room');\r\n  }\r\n};\r\n\r\n/**\r\n * Lists all available LiveKit rooms\r\n * @returns {Promise<Array>} List of rooms\r\n */\r\nexport const listRooms = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_BASE_URL}/rooms`);\r\n    return response.data.rooms;\r\n  } catch (error) {\r\n    console.error('Error listing rooms:', error);\r\n    throw new Error('Failed to list rooms');\r\n  }\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  LiveKitRoom,\r\n  VideoConference,\r\n  GridLayout,\r\n  ParticipantTile,\r\n  useTracks,\r\n  RoomAudioRenderer,\r\n  ControlBar\r\n} from '@livekit/components-react';\r\nimport '@livekit/components-styles';\r\nimport { Track } from 'livekit-client';\r\nimport { fetchRoomToken } from '../../services/liveKitService';\r\n\r\nconst VideoChat = ({ roomName, username }) => {\r\n  const [token, setToken] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    const getToken = async () => {\r\n      try {\r\n        if (roomName && username) {\r\n          const fetchedToken = await fetchRoomToken(roomName, username);\r\n          setToken(fetchedToken);\r\n        }\r\n      } catch (err) {\r\n        setError('Failed to get room token. Please try again.');\r\n        console.error('Error fetching token:', err);\r\n      }\r\n    };\r\n\r\n    getToken();\r\n  }, [roomName, username]);\r\n\r\n  if (error) {\r\n    return <div className=\"error-message\">{error}</div>;\r\n  }\r\n\r\n  if (!token) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"video-chat-container\">\r\n      <LiveKitRoom\r\n        video={true}\r\n        audio={true}\r\n        token={token}\r\n        serverUrl={import.meta.env.VITE_LIVEKIT_SERVER_URL || 'ws://localhost:7880'}\r\n        data-lk-theme=\"default\"\r\n        style={{ height: '100%', width: '100%' }}\r\n      >\r\n        <VideoConference />\r\n        <RoomAudioRenderer />\r\n      </LiveKitRoom>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoChat;\r\n","import React, { useState } from 'react';\r\nimport { useLocalParticipant } from '@livekit/components-react';\r\nimport { Track } from 'livekit-client';\r\n\r\nconst ScreenShare = () => {\r\n  const [isScreenSharing, setIsScreenSharing] = useState(false);\r\n  const { localParticipant } = useLocalParticipant();\r\n\r\n  const toggleScreenShare = async () => {\r\n    if (!localParticipant) return;\r\n\r\n    if (isScreenSharing) {\r\n      // Stop screen sharing\r\n      localParticipant.tracks.forEach((publication) => {\r\n        if (\r\n          publication.track &&\r\n          publication.track.source === Track.Source.ScreenShare\r\n        ) {\r\n          publication.track.stop();\r\n          localParticipant.unpublishTrack(publication.track);\r\n        }\r\n      });\r\n      setIsScreenSharing(false);\r\n    } else {\r\n      try {\r\n        // Start screen sharing\r\n        if (!localParticipant?.room) {\r\n          console.error('Room not available');\r\n          return;\r\n        }\r\n        \r\n        const screenTrack = await localParticipant.room.localParticipant.createScreenShareTrack({\r\n          audio: true,\r\n          resolution: { width: 1920, height: 1080 },\r\n        });\r\n        \r\n        await localParticipant.publishTrack(screenTrack);\r\n        setIsScreenSharing(true);\r\n      } catch (error) {\r\n        console.error('Error sharing screen:', error);\r\n        // User likely canceled the screen share prompt\r\n        setIsScreenSharing(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button \r\n      className={`screen-share-button ${isScreenSharing ? 'active' : ''}`}\r\n      onClick={toggleScreenShare}\r\n      aria-label=\"Toggle screen sharing\"\r\n      aria-pressed={isScreenSharing}\r\n    >\r\n      {isScreenSharing ? 'Stop Sharing' : 'Share Screen'}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default ScreenShare;\r\n","/**\r\n * Configures Monaco Editor with additional features and settings\r\n * @param {Object} monaco - Monaco Editor instance\r\n */\r\nexport const configureMonaco = (monaco) => {\r\n  // Register custom themes if needed\r\n  monaco.editor.defineTheme('customDarkTheme', {\r\n    base: 'vs-dark',\r\n    inherit: true,\r\n    rules: [],\r\n    colors: {\r\n      'editor.background': '#1e1e1e',\r\n      'editor.lineHighlightBackground': '#303030',\r\n      'editorCursor.foreground': '#a6a6a6',\r\n      'editor.selectionBackground': '#264f78',\r\n      'editor.inactiveSelectionBackground': '#3a3d41'\r\n    }\r\n  });\r\n\r\n  // Configure TypeScript/JavaScript defaults\r\n  const compilerOptions = {\r\n    target: monaco.languages.typescript.ScriptTarget.ES2020,\r\n    allowNonTsExtensions: true,\r\n    moduleResolution: monaco.languages.typescript.ModuleResolutionKind.NodeJs,\r\n    module: monaco.languages.typescript.ModuleKind.ESNext,\r\n    noEmit: true,\r\n    esModuleInterop: true,\r\n    jsx: monaco.languages.typescript.JsxEmit.React,\r\n    reactNamespace: 'React',\r\n    allowJs: true,\r\n    typeRoots: ['node_modules/@types']\r\n  };\r\n\r\n  // Configure JavaScript\r\n  monaco.languages.typescript.javascriptDefaults.setCompilerOptions(compilerOptions);\r\n  \r\n  // Configure TypeScript\r\n  monaco.languages.typescript.typescriptDefaults.setCompilerOptions(compilerOptions);\r\n\r\n  // Add extra libraries (React, etc.) if needed\r\n  try {\r\n    // Example: add React types\r\n    monaco.languages.typescript.javascriptDefaults.addExtraLib(\r\n      `declare module 'react' {\r\n        export interface Component<P = {}, S = {}> {}\r\n        export function useState<T>(initialState: T | (() => T)): [T, (newState: T) => void];\r\n        export function useEffect(effect: () => void | (() => void), deps?: readonly any[]): void;\r\n        export function useRef<T>(initialValue: T): { current: T };\r\n        export function useCallback<T extends (...args: any[]) => any>(callback: T, deps: readonly any[]): T;\r\n        export function useMemo<T>(factory: () => T, deps: readonly any[]): T;\r\n      }`,\r\n      'node_modules/@types/react/index.d.ts'\r\n    );\r\n  } catch (e) {\r\n    console.warn('Failed to load extra libraries for Monaco editor', e);\r\n  }\r\n};\r\n","import React, { useRef, useEffect, useState } from 'react';\r\nimport Editor, { useMonaco } from '@monaco-editor/react';\r\nimport { configureMonaco } from './EditorConfig';\r\n\r\nconst MonacoEditor = ({ \r\n  language = 'javascript', \r\n  value = '', \r\n  onChange,\r\n  theme = 'vs-dark',\r\n  readOnly = false,\r\n  filename = 'index.js'\r\n}) => {\r\n  const editorRef = useRef(null);\r\n  const monaco = useMonaco();\r\n  const [isReady, setIsReady] = useState(false);\r\n  \r\n  // Configure Monaco when it's available\r\n  useEffect(() => {\r\n    if (monaco) {\r\n      configureMonaco(monaco);\r\n      setIsReady(true);\r\n    }\r\n  }, [monaco]);\r\n\r\n  // Set the file language based on filename extension\r\n  useEffect(() => {\r\n    if (!filename) return;\r\n    \r\n    const extension = filename.split('.').pop().toLowerCase();\r\n    let detectedLanguage = 'javascript';\r\n    \r\n    switch (extension) {\r\n      case 'js':\r\n        detectedLanguage = 'javascript';\r\n        break;\r\n      case 'ts':\r\n      case 'tsx':\r\n        detectedLanguage = 'typescript';\r\n        break;\r\n      case 'py':\r\n        detectedLanguage = 'python';\r\n        break;\r\n      case 'html':\r\n        detectedLanguage = 'html';\r\n        break;\r\n      case 'css':\r\n        detectedLanguage = 'css';\r\n        break;\r\n      case 'json':\r\n        detectedLanguage = 'json';\r\n        break;\r\n      case 'md':\r\n        detectedLanguage = 'markdown';\r\n        break;\r\n    }\r\n  }, [filename]);\r\n\r\n  const handleEditorDidMount = (editor, monaco) => {\r\n    editorRef.current = editor;\r\n    \r\n    // Add editor commands\r\n    editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.KeyS, () => {\r\n      // Save command\r\n      const code = editor.getValue();\r\n      // Trigger save action\r\n      console.log('Save triggered');\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"monaco-editor-container\" style={{ height: '100%', width: '100%' }}>\r\n      <Editor\r\n        height=\"100%\"\r\n        width=\"100%\"\r\n        language={language}\r\n        value={value}\r\n        theme={theme}\r\n        onChange={onChange}\r\n        onMount={handleEditorDidMount}\r\n        options={{\r\n          readOnly,\r\n          minimap: { enabled: true },\r\n          scrollBeyondLastLine: false,\r\n          automaticLayout: true,\r\n          fontSize: 14,\r\n          lineNumbers: 'on',\r\n          folding: true,\r\n          formatOnPaste: true,\r\n          formatOnType: true,\r\n          suggestOnTriggerCharacters: true,\r\n          scrollbar: {\r\n            verticalScrollbarSize: 10,\r\n            horizontalScrollbarSize: 10\r\n          }\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MonacoEditor;\r\n","import axios from 'axios';\r\n\r\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:5050/api';\r\n\r\n// Mock terminal session for local development\r\nconst createMockTerminalSession = () => {\r\n  console.log('Creating mock terminal session for local development');\r\n  return {\r\n    id: 'mock-session-id',\r\n    created: new Date().toISOString(),\r\n    status: 'active'\r\n  };\r\n};\r\n\r\nexport const createTerminalSession = async () => {\r\n  try {\r\n    // First try to use the real API\r\n    const response = await axios.post(`${API_BASE_URL}/terminal/sessions`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.warn('Terminal API unavailable, using mock session:', error.message);\r\n    \r\n    // If API fails with 404, use mock data instead of throwing an error\r\n    if (error.response && error.response.status === 404) {\r\n      return createMockTerminalSession();\r\n    }\r\n    \r\n    // For other errors, log but still return mock data to prevent app crashes\r\n    console.error('Error creating terminal session:', error);\r\n    return createMockTerminalSession();\r\n  }\r\n};\r\n\r\nexport const sendTerminalCommand = async (sessionId, command) => {\r\n  try {\r\n    const response = await axios.post(`${API_BASE_URL}/terminal/sessions/${sessionId}/command`, { command });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error sending terminal command:', error);\r\n    // Return mock response\r\n    return { output: `Mock response for command: ${command}` };\r\n  }\r\n};\r\n\r\n// Also export as executeCommand for backward compatibility\r\nexport const executeCommand = sendTerminalCommand;\r\n\r\nexport const resizeTerminal = async (sessionId, cols, rows) => {\r\n  try {\r\n    await axios.post(`${API_BASE_URL}/terminal/sessions/${sessionId}/resize`, { cols, rows });\r\n  } catch (error) {\r\n    console.warn('Error resizing terminal:', error.message);\r\n    // Silently continue as this is not critical\r\n  }\r\n};\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Terminal } from '@xterm/xterm';\r\nimport { FitAddon } from '@xterm/addon-fit';\r\nimport { WebLinksAddon } from '@xterm/addon-web-links';\r\nimport { sendTerminalCommand, resizeTerminal } from '../../services/terminalService';\r\nimport '@xterm/xterm/css/xterm.css';\r\nimport './XtermTerminal.css';\r\n\r\nconst XtermTerminal = ({ sessionId }) => {\r\n  const terminalRef = useRef(null);\r\n  const terminalInstanceRef = useRef(null);\r\n  const fitAddonRef = useRef(null);\r\n  const commandBufferRef = useRef('');\r\n  const webSocketRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // Initialize terminal\r\n    const terminal = new Terminal({\r\n      cursorBlink: true,\r\n      theme: {\r\n        background: '#1e1e1e',\r\n        foreground: '#f0f0f0',\r\n        cursor: '#ffffff',\r\n      },\r\n      fontFamily: 'Menlo, Monaco, \"Courier New\", monospace',\r\n      fontSize: 14,\r\n      lineHeight: 1.2,\r\n      convertEol: true,\r\n    });\r\n\r\n    terminalInstanceRef.current = terminal;\r\n\r\n    // Initialize fit addon to auto-resize terminal\r\n    const fitAddon = new FitAddon();\r\n    fitAddonRef.current = fitAddon;\r\n    terminal.loadAddon(fitAddon);\r\n\r\n    // Initialize web links addon to make URLs clickable\r\n    const webLinksAddon = new WebLinksAddon();\r\n    terminal.loadAddon(webLinksAddon);\r\n\r\n    // Open terminal in the container\r\n    terminal.open(terminalRef.current);\r\n    fitAddon.fit();\r\n\r\n    // Connect to WebSocket for terminal communications\r\n    connectWebSocket(sessionId);\r\n\r\n    // Welcome message\r\n    terminal.writeln('Welcome to PodPlai Studio Terminal');\r\n    terminal.writeln('Type \"help\" for available commands');\r\n    terminal.write('\\r\\n$ ');\r\n\r\n    // Handle terminal input\r\n    terminal.onData((data) => {\r\n      // If Enter key is pressed\r\n      if (data === '\\r') {\r\n        const command = commandBufferRef.current.trim();\r\n        terminal.writeln('');\r\n        processCommand(command);\r\n        commandBufferRef.current = '';\r\n        terminal.write('$ ');\r\n      } \r\n      // If Backspace key is pressed\r\n      else if (data === '\\x7f') {\r\n        if (commandBufferRef.current.length > 0) {\r\n          commandBufferRef.current = commandBufferRef.current.substring(0, commandBufferRef.current.length - 1);\r\n          terminal.write('\\b \\b');\r\n        }\r\n      } \r\n      // Otherwise add the character to the buffer and echo it\r\n      else {\r\n        commandBufferRef.current += data;\r\n        terminal.write(data);\r\n      }\r\n    });\r\n\r\n    // Handle resize events\r\n    const handleResize = () => {\r\n      if (fitAddonRef.current) {\r\n        fitAddonRef.current.fit();\r\n      }\r\n    };\r\n\r\n    window.addEventListener('resize', handleResize);\r\n\r\n    return () => {\r\n      // Cleanup\r\n      window.removeEventListener('resize', handleResize);\r\n      terminal.dispose();\r\n      if (webSocketRef.current) {\r\n        webSocketRef.current.close();\r\n      }\r\n    };\r\n  }, [sessionId]);\r\n\r\n  const connectWebSocket = (sessionId) => {\r\n    // Create a simulated terminal connection since we don't have node-pty anymore\r\n    console.log('Simulating terminal WebSocket connection');\r\n    \r\n    // For demo, we'll use a fake websocket that simulates responses\r\n    webSocketRef.current = {\r\n      readyState: WebSocket.OPEN,\r\n      send: (message) => {\r\n        const parsedMessage = JSON.parse(message);\r\n        if (parsedMessage.type === 'command') {\r\n          setTimeout(() => {\r\n            const fakeResponse = `Simulated output for: ${parsedMessage.content}\\n`;\r\n            if (terminalInstanceRef.current) {\r\n              terminalInstanceRef.current.write(fakeResponse);\r\n            }\r\n          }, 100);\r\n        }\r\n      },\r\n      close: () => console.log('Terminal WebSocket disconnected')\r\n    };\r\n  };\r\n\r\n  const processCommand = async (command) => {\r\n    if (!command) return;\r\n    \r\n    if (command === 'clear') {\r\n      terminalInstanceRef.current.clear();\r\n      return;\r\n    }\r\n    \r\n    if (command === 'help') {\r\n      terminalInstanceRef.current.writeln('Available commands:');\r\n      terminalInstanceRef.current.writeln('  help     - Show this help message');\r\n      terminalInstanceRef.current.writeln('  clear    - Clear the terminal');\r\n      terminalInstanceRef.current.writeln('  python   - Execute Python code (simulated)');\r\n      terminalInstanceRef.current.writeln('  node     - Execute JavaScript code with Node.js (simulated)');\r\n      terminalInstanceRef.current.writeln('  ls       - List files in current directory (simulated)');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      if (webSocketRef.current && webSocketRef.current.readyState === WebSocket.OPEN) {\r\n        webSocketRef.current.send(JSON.stringify({ type: 'command', content: command }));\r\n      } else {\r\n        // Fallback to simulated HTTP API\r\n        terminalInstanceRef.current.writeln(`Simulated output for: ${command}`);\r\n      }\r\n    } catch (error) {\r\n      terminalInstanceRef.current.writeln(`Error: ${error.message || 'Failed to execute command'}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className=\"terminal-container\" \r\n      ref={terminalRef} \r\n      style={{ height: '100%', width: '100%' }}\r\n      aria-label=\"Terminal\"\r\n      role=\"region\"\r\n    />\r\n  );\r\n};\r\n\r\nexport default XtermTerminal;\r\n","import axios from 'axios';\r\n\r\nconst API_BASE_URL = '/api/files';\r\n\r\n/**\r\n * Lists all files in the workspace\r\n * @returns {Promise<Array>} List of files and directories\r\n */\r\nexport const listFiles = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_BASE_URL}`);\r\n    return response.data.files;\r\n  } catch (error) {\r\n    console.error('Error listing files:', error);\r\n    throw new Error('Failed to list files');\r\n  }\r\n};\r\n\r\n/**\r\n * Gets the content of a file\r\n * @param {string} path - File path\r\n * @returns {Promise<Object>} File content and metadata\r\n */\r\nexport const getFileContent = async (path) => {\r\n  try {\r\n    const response = await axios.get(`${API_BASE_URL}/content`, {\r\n      params: { path }\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error getting file content:', error);\r\n    throw new Error('Failed to get file content');\r\n  }\r\n};\r\n\r\n/**\r\n * Creates a new file\r\n * @param {string} path - File path\r\n * @param {string} content - Initial file content\r\n * @returns {Promise<Object>} Created file details\r\n */\r\nexport const createFile = async (path, content = '') => {\r\n  try {\r\n    const response = await axios.post(`${API_BASE_URL}`, {\r\n      path,\r\n      content\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error creating file:', error);\r\n    throw new Error('Failed to create file');\r\n  }\r\n};\r\n\r\n/**\r\n * Updates file content\r\n * @param {string} path - File path\r\n * @param {string} content - New file content\r\n * @returns {Promise<Object>} Updated file details\r\n */\r\nexport const updateFile = async (path, content) => {\r\n  try {\r\n    const response = await axios.put(`${API_BASE_URL}`, {\r\n      path,\r\n      content\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error updating file:', error);\r\n    throw new Error('Failed to update file');\r\n  }\r\n};\r\n\r\n/**\r\n * Deletes a file\r\n * @param {string} path - File path\r\n * @returns {Promise<Object>} Deletion result\r\n */\r\nexport const deleteFile = async (path) => {\r\n  try {\r\n    const response = await axios.delete(`${API_BASE_URL}`, {\r\n      params: { path }\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error deleting file:', error);\r\n    throw new Error('Failed to delete file');\r\n  }\r\n};\r\n\r\n/**\r\n * Renames a file\r\n * @param {string} oldPath - Current file path\r\n * @param {string} newPath - New file path\r\n * @returns {Promise<Object>} Rename result\r\n */\r\nexport const renameFile = async (oldPath, newPath) => {\r\n  try {\r\n    const response = await axios.put(`${API_BASE_URL}/rename`, {\r\n      oldPath,\r\n      newPath\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error renaming file:', error);\r\n    throw new Error('Failed to rename file');\r\n  }\r\n};\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { List as VirtualList } from 'react-virtualized';\r\nimport { FaFolder, FaFolderOpen, FaFile, FaPlus, FaTrash, FaEdit } from 'react-icons/fa';\r\nimport { listFiles, createFile, deleteFile, renameFile } from '../../services/fileService';\r\n\r\nconst FileTree = ({ onFileSelect, currentFilePath }) => {\r\n  const [files, setFiles] = useState([]);\r\n  const [expandedFolders, setExpandedFolders] = useState({});\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [newItemName, setNewItemName] = useState('');\r\n  const [isCreatingFile, setIsCreatingFile] = useState(false);\r\n  const [parentFolderForNewItem, setParentFolderForNewItem] = useState('');\r\n  const [editingFile, setEditingFile] = useState(null);\r\n  const [editName, setEditName] = useState('');\r\n\r\n  // Load files on component mount\r\n  useEffect(() => {\r\n    loadFiles();\r\n  }, []);\r\n\r\n  const loadFiles = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError('');\r\n      const fileList = await listFiles();\r\n      setFiles(fileList);\r\n    } catch (err) {\r\n      setError('Failed to load files');\r\n      console.error('Error loading files:', err);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const toggleFolder = (path) => {\r\n    setExpandedFolders(prev => ({\r\n      ...prev,\r\n      [path]: !prev[path]\r\n    }));\r\n  };\r\n\r\n  const handleFileClick = (file) => {\r\n    if (file.type === 'file') {\r\n      onFileSelect(file.path);\r\n    } else {\r\n      toggleFolder(file.path);\r\n    }\r\n  };\r\n\r\n  const startFileCreation = (parentPath) => {\r\n    setParentFolderForNewItem(parentPath);\r\n    setIsCreatingFile(true);\r\n    setNewItemName('');\r\n  };\r\n\r\n  const startFileRename = (file) => {\r\n    setEditingFile(file);\r\n    setEditName(file.name);\r\n  };\r\n\r\n  const handleCreateFile = async () => {\r\n    if (!newItemName) return;\r\n    \r\n    try {\r\n      const path = parentFolderForNewItem \r\n        ? `${parentFolderForNewItem}/${newItemName}` \r\n        : newItemName;\r\n        \r\n      await createFile(path, '');\r\n      await loadFiles();\r\n      setIsCreatingFile(false);\r\n      setNewItemName('');\r\n    } catch (err) {\r\n      setError('Failed to create file');\r\n      console.error('Error creating file:', err);\r\n    }\r\n  };\r\n\r\n  const handleDeleteFile = async (file) => {\r\n    try {\r\n      await deleteFile(file.path);\r\n      await loadFiles();\r\n    } catch (err) {\r\n      setError('Failed to delete file');\r\n      console.error('Error deleting file:', err);\r\n    }\r\n  };\r\n\r\n  const handleRenameFile = async () => {\r\n    if (!editName || !editingFile) return;\r\n    \r\n    try {\r\n      const directory = editingFile.path.substring(0, editingFile.path.lastIndexOf('/') + 1);\r\n      const newPath = directory + editName;\r\n      \r\n      await renameFile(editingFile.path, newPath);\r\n      await loadFiles();\r\n      setEditingFile(null);\r\n      setEditName('');\r\n    } catch (err) {\r\n      setError('Failed to rename file');\r\n      console.error('Error renaming file:', err);\r\n    }\r\n  };\r\n\r\n  // Build flat list of visible files based on expanded state\r\n  const getVisibleFiles = useCallback(() => {\r\n    const visibleFiles = [];\r\n    \r\n    const addFilesRecursively = (fileList, level) => {\r\n      fileList.forEach(file => {\r\n        // Add the current file/folder\r\n        visibleFiles.push({ ...file, level });\r\n        \r\n        // If it's an expanded folder, add its children\r\n        if (file.type === 'directory' && expandedFolders[file.path]) {\r\n          addFilesRecursively(file.children || [], level + 1);\r\n        }\r\n      });\r\n    };\r\n    \r\n    addFilesRecursively(files, 0);\r\n    return visibleFiles;\r\n  }, [files, expandedFolders]);\r\n\r\n  const renderFile = ({ index, style }) => {\r\n    const visibleFiles = getVisibleFiles();\r\n    const file = visibleFiles[index];\r\n    const indent = file.level * 20;\r\n    const isSelected = currentFilePath === file.path;\r\n    \r\n    if (editingFile && editingFile.path === file.path) {\r\n      return (\r\n        <div style={{ ...style, paddingLeft: `${indent}px` }} className=\"file-row editing\">\r\n          <input\r\n            type=\"text\"\r\n            value={editName}\r\n            onChange={(e) => setEditName(e.target.value)}\r\n            onKeyDown={(e) => e.key === 'Enter' && handleRenameFile()}\r\n            autoFocus\r\n          />\r\n          <button onClick={handleRenameFile} aria-label=\"Save\">✓</button>\r\n          <button onClick={() => setEditingFile(null)} aria-label=\"Cancel\">✕</button>\r\n        </div>\r\n      );\r\n    }\r\n    \r\n    return (\r\n      <div \r\n        style={{ ...style, paddingLeft: `${indent}px` }}\r\n        className={`file-row ${isSelected ? 'selected' : ''}`}\r\n        onClick={() => handleFileClick(file)}\r\n      >\r\n        {file.type === 'directory' ? (\r\n          expandedFolders[file.path] ? <FaFolderOpen /> : <FaFolder />\r\n        ) : (\r\n          <FaFile />\r\n        )}\r\n        <span className=\"file-name\">{file.name}</span>\r\n        <div className=\"file-actions\">\r\n          {file.type === 'directory' && (\r\n            <button \r\n              onClick={(e) => { e.stopPropagation(); startFileCreation(file.path); }}\r\n              aria-label=\"Create new file\"\r\n            >\r\n              <FaPlus />\r\n            </button>\r\n          )}\r\n          <button \r\n            onClick={(e) => { e.stopPropagation(); startFileRename(file); }}\r\n            aria-label=\"Rename file\"\r\n          >\r\n            <FaEdit />\r\n          </button>\r\n          <button \r\n            onClick={(e) => { e.stopPropagation(); handleDeleteFile(file); }}\r\n            aria-label=\"Delete file\"\r\n          >\r\n            <FaTrash />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <div>Loading files...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"error-message\">{error}</div>;\r\n  }\r\n\r\n  const visibleFiles = getVisibleFiles();\r\n\r\n  return (\r\n    <div className=\"file-explorer\">\r\n      <div className=\"file-explorer-header\">\r\n        <h3>Files</h3>\r\n        <button \r\n          onClick={() => startFileCreation('')}\r\n          aria-label=\"Create new file at root\"\r\n          className=\"new-file-button\"\r\n        >\r\n          <FaPlus /> New File\r\n        </button>\r\n        <button onClick={loadFiles} aria-label=\"Refresh files\">↻</button>\r\n      </div>\r\n      \r\n      {isCreatingFile && (\r\n        <div className=\"new-file-form\">\r\n          <input\r\n            type=\"text\"\r\n            value={newItemName}\r\n            onChange={(e) => setNewItemName(e.target.value)}\r\n            placeholder=\"Enter file name\"\r\n            onKeyDown={(e) => e.key === 'Enter' && handleCreateFile()}\r\n            autoFocus\r\n          />\r\n          <button onClick={handleCreateFile}>Create</button>\r\n          <button onClick={() => setIsCreatingFile(false)}>Cancel</button>\r\n        </div>\r\n      )}\r\n      \r\n      <VirtualList\r\n        width={300}\r\n        height={500}\r\n        rowCount={visibleFiles.length}\r\n        rowHeight={30}\r\n        rowRenderer={renderFile}\r\n        overscanRowCount={10}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileTree;\r\n","/**\r\n * Configure WebSocket to automatically reconnect when connection is lost\r\n */\r\nexport const configureWebSocketReconnection = () => {\r\n  // Store the original WebSocket constructor\r\n  const OrigWebSocket = window.WebSocket;\r\n  const reconnectInterval = 3000; // Reconnect after 3 seconds\r\n  const maxReconnectAttempts = 5;\r\n\r\n  // Replace the WebSocket constructor with our enhanced version\r\n  window.WebSocket = function(url, protocols) {\r\n    // Create a new WebSocket instance\r\n    const ws = new OrigWebSocket(url, protocols);\r\n    \r\n    // Add reconnection functionality\r\n    ws.reconnectAttempts = 0;\r\n    \r\n    const reconnect = () => {\r\n      if (ws.reconnectAttempts >= maxReconnectAttempts) {\r\n        console.error('Maximum reconnection attempts reached. Giving up.');\r\n        return;\r\n      }\r\n      \r\n      ws.reconnectAttempts++;\r\n      console.log(`Attempting to reconnect (${ws.reconnectAttempts}/${maxReconnectAttempts})...`);\r\n      \r\n      // Attempt to create a new WebSocket\r\n      const newWs = new OrigWebSocket(url, protocols);\r\n      \r\n      // Copy event handlers from the old WebSocket\r\n      newWs.onopen = ws.onopen;\r\n      newWs.onclose = ws.onclose;\r\n      newWs.onmessage = ws.onmessage;\r\n      newWs.onerror = ws.onerror;\r\n      \r\n      // If reconnect successful, replace all properties\r\n      newWs.addEventListener('open', () => {\r\n        Object.assign(ws, newWs);\r\n        ws.reconnectAttempts = 0;\r\n        console.log('WebSocket reconnected successfully');\r\n      });\r\n      \r\n      // Set up reconnection for the new WebSocket too\r\n      newWs.addEventListener('close', (event) => {\r\n        if (!event.wasClean) {\r\n          setTimeout(reconnect, reconnectInterval);\r\n        }\r\n      });\r\n    };\r\n    \r\n    // Set up automatic reconnection\r\n    const originalOnClose = ws.onclose;\r\n    ws.addEventListener('close', (event) => {\r\n      if (originalOnClose) {\r\n        originalOnClose.call(ws, event);\r\n      }\r\n      \r\n      if (!event.wasClean) {\r\n        setTimeout(reconnect, reconnectInterval);\r\n      }\r\n    });\r\n    \r\n    return ws;\r\n  };\r\n};\r\n\r\n/**\r\n * Creates a notification for WebSocket connection status\r\n * @param {string} message - Notification message\r\n * @param {string} type - Notification type (error, warning, info)\r\n */\r\nexport const createConnectionNotification = (message, type = 'info') => {\r\n  const notification = document.createElement('div');\r\n  notification.className = `websocket-notification ${type}`;\r\n  notification.innerHTML = message;\r\n  \r\n  // Add to document\r\n  document.body.appendChild(notification);\r\n  \r\n  // Auto-remove after a delay\r\n  setTimeout(() => {\r\n    notification.classList.add('fadeout');\r\n    setTimeout(() => {\r\n      document.body.removeChild(notification);\r\n    }, 500);\r\n  }, 5000);\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport VideoChat from './components/LiveKit/VideoChat';\r\nimport ScreenShare from './components/LiveKit/ScreenShare';\r\nimport MonacoEditor from './components/Editor/MonacoEditor';\r\nimport XtermTerminal from './components/Terminal/XtermTerminal';\r\nimport FileTree from './components/FileExplorer/FileTree';\r\nimport { getFileContent, updateFile } from './services/fileService';\r\nimport { createTerminalSession } from './services/terminalService';\r\nimport { configureWebSocketReconnection } from './services/webSocketService';\r\nimport './App.css';\r\n\r\nconst App = () => {\r\n  const [roomName, setRoomName] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [isJoined, setIsJoined] = useState(false);\r\n  const [currentFile, setCurrentFile] = useState(null);\r\n  const [fileContent, setFileContent] = useState('');\r\n  const [terminalSessionId, setTerminalSessionId] = useState('');\r\n  const [editorLanguage, setEditorLanguage] = useState('javascript');\r\n  const [theme, setTheme] = useState('vs-dark');\r\n  const [isLeftPanelOpen, setIsLeftPanelOpen] = useState(true);\r\n  const [isRightPanelOpen, setIsRightPanelOpen] = useState(true);\r\n  const [bottomPanelHeight, setBottomPanelHeight] = useState(300);\r\n  \r\n  // Initialize terminal session\r\n  useEffect(() => {\r\n    const initTerminal = async () => {\r\n      try {\r\n        const session = await createTerminalSession();\r\n        setTerminalSession(session);\r\n        console.log('Terminal session created:', session);\r\n        return session;\r\n      } catch (error) {\r\n        console.error('Failed to create terminal session:', error);\r\n        // Create a mock session to allow app to continue\r\n        const mockSession = {\r\n          id: 'fallback-session-id',\r\n          created: new Date().toISOString(),\r\n          status: 'fallback'\r\n        };\r\n        setTerminalSession(mockSession);\r\n        return mockSession;\r\n      }\r\n    };\r\n    \r\n    initTerminal();\r\n    \r\n    // Configure WebSocket reconnection\r\n    configureWebSocketReconnection();\r\n    \r\n    return () => {\r\n      // Cleanup if needed\r\n    };\r\n  }, []);\r\n  \r\n  // Load file content when selected\r\n  useEffect(() => {\r\n    if (currentFile) {\r\n      loadFileContent(currentFile);\r\n    }\r\n  }, [currentFile]);\r\n  \r\n  const loadFileContent = async (filePath) => {\r\n    try {\r\n      const response = await getFileContent(filePath);\r\n      setFileContent(response.content);\r\n      \r\n      // Set language based on file extension\r\n      const extension = filePath.split('.').pop().toLowerCase();\r\n      switch (extension) {\r\n        case 'js':\r\n          setEditorLanguage('javascript');\r\n          break;\r\n        case 'ts':\r\n        case 'tsx':\r\n          setEditorLanguage('typescript');\r\n          break;\r\n        case 'py':\r\n          setEditorLanguage('python');\r\n          break;\r\n        case 'json':\r\n          setEditorLanguage('json');\r\n          break;\r\n        case 'html':\r\n          setEditorLanguage('html');\r\n          break;\r\n        case 'css':\r\n          setEditorLanguage('css');\r\n          break;\r\n        case 'md':\r\n          setEditorLanguage('markdown');\r\n          break;\r\n        default:\r\n          setEditorLanguage('javascript');\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load file content:', error);\r\n    }\r\n  };\r\n  \r\n  const handleFileSelect = (filePath) => {\r\n    setCurrentFile(filePath);\r\n  };\r\n  \r\n  const handleCodeChange = (newValue) => {\r\n    setFileContent(newValue);\r\n  };\r\n  \r\n  const handleSaveFile = async () => {\r\n    if (currentFile) {\r\n      try {\r\n        await updateFile(currentFile, fileContent);\r\n        console.log('File saved successfully');\r\n      } catch (error) {\r\n        console.error('Failed to save file:', error);\r\n      }\r\n    }\r\n  };\r\n  \r\n  const handleJoinRoom = () => {\r\n    if (roomName && username) {\r\n      setIsJoined(true);\r\n    }\r\n  };\r\n  \r\n  const handleToggleLeftPanel = () => {\r\n    setIsLeftPanelOpen(!isLeftPanelOpen);\r\n  };\r\n  \r\n  const handleToggleRightPanel = () => {\r\n    setIsRightPanelOpen(!isRightPanelOpen);\r\n  };\r\n  \r\n  return (\r\n    <div className=\"app-container\">\r\n      {!isJoined ? (\r\n        <div className=\"join-room-form\" role=\"form\" aria-label=\"Join video chat room\">\r\n          <h2>Join Video Chat Room</h2>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"room-name\">Room Name:</label>\r\n            <input\r\n              id=\"room-name\"\r\n              type=\"text\"\r\n              value={roomName}\r\n              onChange={(e) => setRoomName(e.target.value)}\r\n              placeholder=\"Enter room name\"\r\n              aria-required=\"true\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"username\">Your Name:</label>\r\n            <input\r\n              id=\"username\"\r\n              type=\"text\"\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n              placeholder=\"Enter your name\"\r\n              aria-required=\"true\"\r\n            />\r\n          </div>\r\n          <button \r\n            onClick={handleJoinRoom} \r\n            disabled={!roomName || !username}\r\n            aria-label=\"Join room\"\r\n          >\r\n            Join Room\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <div className=\"workspace\">\r\n          <header className=\"app-header\">\r\n            <h1>PodPlai Studio</h1>\r\n            <div className=\"header-controls\">\r\n              <button \r\n                onClick={handleToggleLeftPanel}\r\n                className=\"panel-toggle\"\r\n                aria-label={isLeftPanelOpen ? \"Hide file explorer\" : \"Show file explorer\"}\r\n                aria-pressed={isLeftPanelOpen}\r\n              >\r\n                {isLeftPanelOpen ? '◀' : '▶'} Files\r\n              </button>\r\n              <button \r\n                onClick={handleToggleRightPanel}\r\n                className=\"panel-toggle\"\r\n                aria-label={isRightPanelOpen ? \"Hide video chat\" : \"Show video chat\"}\r\n                aria-pressed={isRightPanelOpen}\r\n              >\r\n                Video {isRightPanelOpen ? '▶' : '◀'}\r\n              </button>\r\n              <button \r\n                onClick={handleSaveFile} \r\n                disabled={!currentFile}\r\n                aria-label=\"Save current file\"\r\n              >\r\n                Save\r\n              </button>\r\n              <select \r\n                value={theme} \r\n                onChange={(e) => setTheme(e.target.value)}\r\n                aria-label=\"Editor theme\"\r\n              >\r\n                <option value=\"vs-dark\">Dark</option>\r\n                <option value=\"vs-light\">Light</option>\r\n                <option value=\"hc-black\">High Contrast</option>\r\n              </select>\r\n            </div>\r\n          </header>\r\n          \r\n          <div className=\"main-content\">\r\n            {isLeftPanelOpen && (\r\n              <div className=\"file-explorer-panel\">\r\n                <FileTree \r\n                  onFileSelect={handleFileSelect} \r\n                  currentFilePath={currentFile}\r\n                />\r\n              </div>\r\n            )}\r\n            \r\n            <div className=\"editor-panel\">\r\n              <div className=\"editor-container\">\r\n                {currentFile ? (\r\n                  <MonacoEditor\r\n                    language={editorLanguage}\r\n                    value={fileContent}\r\n                    onChange={handleCodeChange}\r\n                    theme={theme}\r\n                    filename={currentFile}\r\n                  />\r\n                ) : (\r\n                  <div className=\"no-file-selected\">\r\n                    <p>Select a file from the explorer to edit</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              <div \r\n                className=\"terminal-panel\"\r\n                style={{ height: `${bottomPanelHeight}px` }}\r\n              >\r\n                <div className=\"panel-header\">\r\n                  <h3>Terminal</h3>\r\n                  <div \r\n                    className=\"drag-handle\"\r\n                    aria-hidden=\"true\"\r\n                    onMouseDown={(e) => {\r\n                      const startY = e.clientY;\r\n                      const startHeight = bottomPanelHeight;\r\n                      \r\n                      const onMouseMove = (moveEvent) => {\r\n                        const newHeight = startHeight - (moveEvent.clientY - startY);\r\n                        if (newHeight > 100 && newHeight < 800) {\r\n                          setBottomPanelHeight(newHeight);\r\n                        }\r\n                      };\r\n                      \r\n                      const onMouseUp = () => {\r\n                        document.removeEventListener('mousemove', onMouseMove);\r\n                        document.removeEventListener('mouseup', onMouseUp);\r\n                      };\r\n                      \r\n                      document.addEventListener('mousemove', onMouseMove);\r\n                      document.addEventListener('mouseup', onMouseUp);\r\n                    }}\r\n                  ></div>\r\n                </div>\r\n                <XtermTerminal sessionId={terminalSessionId} />\r\n              </div>\r\n            </div>\r\n            \r\n            {isRightPanelOpen && (\r\n              <div className=\"video-chat-panel\">\r\n                <VideoChat roomName={roomName} username={username} />\r\n                <div className=\"screen-share-controls\">\r\n                  <ScreenShare />\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { QueryClient } from '@tanstack/react-query';\r\n\r\n// Create a client\r\nexport const queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      staleTime: 1000 * 60 * 5, // 5 minutes\r\n      gcTime: 1000 * 60 * 10, // 10 minutes\r\n      retry: 1,\r\n      refetchOnWindowFocus: true,\r\n      queryFn: async ({ queryKey }) => {\r\n        const [url, ...params] = Array.isArray(queryKey) ? queryKey : [queryKey];\r\n        \r\n        if (typeof url !== 'string') {\r\n          throw new Error('Invalid query key');\r\n        }\r\n        \r\n        // Handle nested query keys like ['/api/conversations', id, 'messages']\r\n        let fullUrl = url;\r\n        if (params.length > 0) {\r\n          if (params.length === 2 && params[1] === 'messages') {\r\n            // Format: ['/api/conversations', id, 'messages']\r\n            fullUrl = `${url}/${params[0]}/messages`;\r\n          }\r\n        }\r\n        \r\n        const response = await fetch(fullUrl);\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`Request failed with status ${response.status}`);\r\n        }\r\n        \r\n        const contentType = response.headers.get('content-type');\r\n        if (contentType?.includes('application/json')) {\r\n          return response.json();\r\n        }\r\n        \r\n        return response.text();\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\n// Helper function for making API requests\r\nexport async function apiRequest<T>(\r\n  url: string,\r\n  method: 'GET' | 'POST' | 'PATCH' | 'DELETE' = 'GET',\r\n  body?: any\r\n): Promise<T> {\r\n  const options: RequestInit = {\r\n    method,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  };\r\n\r\n  if (body) {\r\n    options.body = JSON.stringify(body);\r\n  }\r\n\r\n  const response = await fetch(url, options);\r\n\r\n  if (!response.ok) {\r\n    const errorData = await response.json().catch(() => ({}));\r\n    console.error('API request failed:', {\r\n      url,\r\n      method,\r\n      status: response.status,\r\n      errorData,\r\n      requestBody: body ? JSON.parse(JSON.stringify(body)) : undefined\r\n    });\r\n    throw new Error(\r\n      errorData.error || errorData.message || `API request failed with status ${response.status}`\r\n    );\r\n  }\r\n\r\n  // For DELETE requests that return 204 No Content\r\n  if (response.status === 204) {\r\n    return true as unknown as T;\r\n  }\r\n\r\n  return response.json();\r\n}","import { createRoot } from \"react-dom/client\";\r\nimport { StrictMode } from \"react\";\r\nimport App from \"./App\";\r\nimport \"./index.css\";\r\nimport { QueryClientProvider } from \"@tanstack/react-query\";\r\nimport { queryClient } from \"./lib/queryClient\";\r\n\r\n// Create a wrapper with QueryClientProvider only, other providers are in App.tsx\r\nfunction AppWithProviders() {\r\n  return (\r\n    <StrictMode>\r\n      <QueryClientProvider client={queryClient}>\r\n        <App />\r\n      </QueryClientProvider>\r\n    </StrictMode>\r\n  );\r\n}\r\n\r\n// Use the wrapper for rendering\r\ncreateRoot(document.getElementById(\"root\")!).render(<AppWithProviders />);\r\n"],"names":["API_BASE_URL","fetchRoomToken","roomName","participantName","axios","error","VideoChat","username","token","setToken","useState","setError","useEffect","fetchedToken","err","jsx","jsxs","LiveKitRoom","VideoConference","RoomAudioRenderer","ScreenShare","isScreenSharing","setIsScreenSharing","localParticipant","useLocalParticipant","toggleScreenShare","publication","Track","screenTrack","configureMonaco","monaco","compilerOptions","e","MonacoEditor","language","value","onChange","theme","readOnly","filename","editorRef","useRef","useMonaco","isReady","setIsReady","handleEditorDidMount","editor","Editor","createMockTerminalSession","createTerminalSession","XtermTerminal","sessionId","terminalRef","terminalInstanceRef","fitAddonRef","commandBufferRef","webSocketRef","terminal","Terminal","fitAddon","FitAddon","webLinksAddon","WebLinksAddon","connectWebSocket","data","command","processCommand","handleResize","message","parsedMessage","fakeResponse","listFiles","getFileContent","path","createFile","content","updateFile","deleteFile","renameFile","oldPath","newPath","FileTree","onFileSelect","currentFilePath","files","setFiles","expandedFolders","setExpandedFolders","isLoading","setIsLoading","newItemName","setNewItemName","isCreatingFile","setIsCreatingFile","parentFolderForNewItem","setParentFolderForNewItem","editingFile","setEditingFile","editName","setEditName","loadFiles","fileList","toggleFolder","prev","handleFileClick","file","startFileCreation","parentPath","startFileRename","handleCreateFile","handleDeleteFile","handleRenameFile","getVisibleFiles","useCallback","visibleFiles","addFilesRecursively","level","renderFile","index","style","indent","isSelected","FaFolderOpen","FaFolder","FaFile","FaPlus","FaEdit","FaTrash","VirtualList","configureWebSocketReconnection","OrigWebSocket","reconnectInterval","maxReconnectAttempts","url","protocols","ws","reconnect","newWs","event","originalOnClose","App","setRoomName","setUsername","isJoined","setIsJoined","currentFile","setCurrentFile","fileContent","setFileContent","terminalSessionId","setTerminalSessionId","editorLanguage","setEditorLanguage","setTheme","isLeftPanelOpen","setIsLeftPanelOpen","isRightPanelOpen","setIsRightPanelOpen","bottomPanelHeight","setBottomPanelHeight","session","mockSession","loadFileContent","filePath","response","handleFileSelect","handleCodeChange","newValue","handleSaveFile","handleJoinRoom","handleToggleLeftPanel","handleToggleRightPanel","startY","startHeight","onMouseMove","moveEvent","newHeight","onMouseUp","queryClient","QueryClient","queryKey","params","fullUrl","contentType","AppWithProviders","StrictMode","QueryClientProvider","createRoot"],"mappings":"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"}